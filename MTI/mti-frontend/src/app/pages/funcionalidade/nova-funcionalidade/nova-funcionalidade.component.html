<p-dialog header="{{tituloModal}}" [(visible)]="displayDialog" [responsive]="true" appendTo="body" [modal]=true showEffect="fade"
  [width]="700">
  <form [formGroup]="userform" (ngSubmit)="salvar()">
    <div id="containerModal" class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid">
      <div class="ui-grid-row">
        <div id="novaFuncionalidadeContainer" class="ui-g ui-fluid">
          <div class="ui-g-12 ui-md-12">
            <label class="control-label">Nome</label>
            <div class="ui-inputgroup">
              <span class="ui-inputgroup-addon">
                <i class="fa fa-address-card-o"></i>
              </span>
              <input formControlName="nomeRole" [(ngModel)]="funcionalidade && funcionalidade.nome" type="text" pInputText placeholder="Digite o nome da funcionalidade">
            </div>
            <div class="ui-g-12 ui-md-12">
              <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['nomeRole'].valid&&userform.controls['nomeRole'].dirty">
                <i class="fa fa-close"></i>
                O nome da funcionalidade é obrigatório.
              </div>
            </div>
          </div>
          <div class="ui-g-12 ui-md-12">
            <label class="control-label">Label</label>
            <div class="ui-inputgroup">
              <span class="ui-inputgroup-addon">
                <i class="fa fa-address-card-o"></i>
              </span>
              <input formControlName="label" [(ngModel)]="funcionalidade && funcionalidade.nome" type="text" pInputText placeholder="Digite a label da funcionalidade">
            </div>
            <div class="ui-g-12 ui-md-12">
              <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['label'].valid&&userform.controls['label'].dirty">
                <i class="fa fa-close"></i>
                A label da funcionalidade é obrigatória.
              </div>
            </div>
          </div>
          <div class="ui-g-12 ui-md-12">
            <label class="control-label">Tipo da Funcionalidade</label>
            <div class="ui-inputgroup">
              <span class="ui-inputgroup-addon">
                <i class="fa fa-users"></i>
              </span>
              <p-dropdown formControlName="tipoFuncionalidade" placeholder="Selecione uma Funcionalidade" optionLabel="nome" [options]="funcionalidadesList" [(ngModel)]="funcionalidade && funcionalidade.tipoFuncioinalidade"
                [style]="{'width':'100%'}"></p-dropdown>
            </div>
            <div class="ui-g-12 ui-md-12">
              <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['tipoFuncionalidade'].valid&&userform.controls['tipoFuncionalidade'].dirty">
                <i class="fa fa-close"></i>
                É necessário selecionar uma Funcionalidade.
              </div>
            </div>
          </div>
          <div class="ui-g-12 ui-md-12">
            <label class="control-label">Descrição</label>
            <div class="ui-inputgroup">
              <span style="line-height: 37px" class="ui-inputgroup-addon">
                <i class="fa fa-info"></i>
              </span>
              <textarea formControlName="descricao" [(ngModel)]="funcionalidade && funcionalidade.descricao" type="text" pInputText placeholder="Digite uma breve descrição"></textarea>
            </div>
          </div>
          <div class="ui-g-12 ui-md-12">
            <label class="control-label">Status</label>
            <p-card>
              <div class="ui-inputgroup">
                <div class="ui-g-12">
                  <p-radioButton name="rdbStatus" value="S" label="Ativo" [(ngModel)]="funcionalidade.flAtivo" formControlName="rdbStatus"></p-radioButton>
                </div>
                <div class="ui-g-12">
                  <p-radioButton name="rdbStatus" value="N" label="Inativo" [(ngModel)]="funcionalidade.flAtivo" formControlName="rdbStatus"></p-radioButton>
                </div>
              </div>
            </p-card>
          </div>
        </div>
      </div>
    </div>
    <p-footer>
      <div class="row">
        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:left; font-weight: 400; border-top: 1px solid #CCCCCC; padding-top: 10px">
          <button pButton type="button" (click)="closeModal()" label="Cancelar" class="ui-button-secondary"></button>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:right; font-weight: 400; border-top: 1px solid #CCCCCC; padding-top: 10px">
          <button pButton type="submit" label="Salvar" class="ui-button-success" [disabled]="!userform.valid"></button>
        </div>
      </div>
    </p-footer>
  </form>
</p-dialog>